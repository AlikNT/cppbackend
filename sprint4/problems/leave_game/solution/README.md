## Multithreaded game web-server

### Description

#### Game mechanics
Игрок управляет псом, задача которого — находить потерянные вещи и относить их в ближайшее бюро находок. На карте одновременно присутствуют несколько псов, которыми управляют другие пользователи, подключившиеся к серверу. Цель игры — набрать как можно больше игровых очков, которые начисляются за доставленные в бюро находок вещи.
На стартовом экране отображается список карт. После выбора карты открывается экран игры.
На этом экране отображается фрагмент карты города. Карта состоит из дорог, по которым перемещаются псы игроков. На дорогах время от времени появляются потерянные вещи, которые нужно подобрать раньше противников и отнести в ближайшее бюро находок. Псы, управляемые игроками, могут нести не более трёх предметов за раз, поэтому регулярно нужно наведываться в офис. Кроме дорог и офисов, на карте располагаются здания, которые несут исключительно декоративную функцию и не влияют на ход игры.
В информационной области игрового экрана отображаются предметы, которые несёт пёс игрока, а также набранные очки.

Архитектура игры

Игра будет выполнена в виде клиент-серверного приложения:
Сервер отвечает за хранение и обновление игрового состояния, отправку состояния клиентам, обработку команд управления собаками. Размещение игрового кода на стороне сервера поставит игроков в одинаковые условия и уменьшит возможность жульничества путём модификации кода, выполняемого на стороне клиента.
Клиент принимает ввод пользователя и отправляет его на сервер. Также клиент получает актуальное игровое состояние с сервера и отображает его пользователю. Клиентская часть игры (фронтенд) выполняется в веб-браузере и использовать технологии HTML/CSS/JavaScript.

Build

Программа тестировалась на Ubuntu 22.04
Для компиляции в системе должен быть установлен gcc 11.3 или более поздней версии, python 3.

Установка необходимых пакетов:

```Bash
sudo apt update && apt install -y python3-pip cmake && pip3 install conan==1.*
```
Установка пакетного менеджера Conan:

```Bash
mkdir /build && cd /build && conan install .. -s compiler.libcxx=libstdc++11
```

Сборка программы:

```Bash
cd /build && cmake -DCMAKE_BUILD_TYPE=Release .. && cmake --build .
```

Run

```Bash
cd /build
game_server [options]
```

```Bash
Allowed options:
  -h [ --help ]                     produce help message
  -t [ --tick-period ] milliseconds set tick period
  -c [ --config-file ] file         set config file path
  -w [ --www-root ] dir             set static files root
  --randomize-spawn-points          spawn dogs at random positions
```

* Параметр --tick-period (-t) задаёт период автоматического обновления игрового состояния в миллисекундах. Если этот параметр указан, каждые N миллисекунд сервер должен обновлять координаты объектов. Если этот параметр не указан, время в игре должно управляться с помощью запроса /api/v1/game/tick к REST API.
* Параметр --config-file (-c) задаёт путь к конфигурационному JSON-файлу игры.
* Параметр --www-root (-w) задаёт путь к каталогу со статическими файлами игры.
* Параметр --randomize-spawn-points включает режим, при котором пёс игрока появляется в случайной точке случайно выбранной дороги карты.
* Параметр --help (-h) должен выводить информацию о параметрах командной строки.

Для запуска игры на стороне клиента нужно в браузере ввести:
```
<hostname>:8080
```
